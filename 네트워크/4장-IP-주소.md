영상: [[따라學IT] 04. 실제로 컴퓨터끼리는 IP주소를 사용해 데이터를 주고받는다](https://youtu.be/s5kIGnaNFvM?list=PL0d8NnikouEWcF1jJueLdjRIC4HsUlULi)

MAC주소는 간단한 편이었지만

IP 주소의 경우는 MAC보다는 상당히 복잡합니다.



## **3계층의 기능**

3계층은 **서로다른 네트워크 대역**, 즉 **멀리 떨어진 곳에 존재하는 네트워크**까지 어떻게 데이터를 전달할지 제어하는 일을 담당.

**서로 다른 LAN과 LAN을 연결하는 것.**

대표적으로 LAN과 LAN을 연결시키는 ROUTER 장비가 필요

2계층의 장비인 스위치를 가지고는 LAN과 LAN을 연결시킬 수 없음..



3계층에서 쓰는 주소

WAN에서 통신할 때 사용하는 주소는 -> IP주소



**3계층의 프로토콜**

- ARP 프로토콜
  - IP주소를 이용해 MAC주소를 알아오는 프로토콜
- IPv4 프로토콜
  - WAN에서 통신할 때 사용하는 프로토콜
- ICMP프로토콜 
  - 서로가 통신되는지 확인할 때 사용하는 프로토콜

##  

##  

## **일반적인 IP 주소**

Classful IP주소(초창기)

![img](https://blog.kakaocdn.net/dn/bz1IXP/btrDMzK88m6/yaVZRaUloDFKrYGNIcTkYK/img.png)초창기 IP주소

사용할 수 있는 범위가 딱 정해져 있었습니다.

B클래스는 2의 7승인 128

C클래스는 2의 7승 + 2의 6승 (128+64)=192

D클래스 2의 7승 + 2의 6승 + 2의 5승 (128+64+32)=224

E클래스 2의 7승 + 2의 6승 + 2의 5승 + 2의 4승 (128+64+32+16)=240

클래스로 나눈 이유는

A클래스는 첫번째 필드는 네트워크 대역을 구분하는데 쓰고, 그 이후 숫자는 컴퓨터에 대한 숫자들을 구분하기 위함. 

B클래스는 두번째 필드까지 128.0 까지 네트워크 대역을 구분하는데 쓰고, 그 이후 숫자들은 컴퓨터에 대한 숫자들을 구분하기위함

C클래스는 세번째 필드까지 192.0.0 까지 네트워크대역을 구분하는데 쓰고, 그 이후는 그안에 컴퓨터들에 대한 숫자들을 구분하기 위해사용

주로 그래서 A클래스의 경우는 네트워크 안에서 컴퓨터를 구분하기 때문에 큰 대기업이나 이런곳에서 사용하고 C가 일반적으로 사용되어집니다.

D클래스의 경우는 멀티캐스트를 위한 용도로 남겨둔 것입니다.

E클래스의 경우는 실험용도로 남겨둔 용도입니다.



하지만 이 클래스의 문제점은

A클래스를 30대가 사용 되어진다고 가정했을 때 100.0.0.1 ~ 100.0.0.31 을 사용한다고 가정했을때

1600만대가 우리의 네트워크대역에 스위치를 꽂아서 사용해야하는 상황이 발생하게 됩니다. 이래서 낭비가 너무 심해지는 상황이 발생하게 됩니다.

컴퓨터의 보급이 많아지면서 Ip가 더욱 필요해지면서 이 Classful IP주소는 보완해야할 필요가 생깁니다.

그래서 생긴 것이



낭비되지 않도록 아껴쓰는

Classless IP 주소 입니다.

서브넷 마스크의 도입으로 Classful 에대한 문제점을 해결하였습니다.

서브넷마스크로 네트워크대역을 구분하게 됩니다.

서브넷 마스크 

- 클래스풀한 **네트워크 대역을 나눠주는데 사용하는 값**  
- 어디까지가 네트워크 대역을 구분하는데 사용하고 어디서부터 
-  호스트를 구분하는데 사용하는지 지정 
-  32bit  4바이트 
-  255.255.255.192 -> 11111111.11111111.11111111.11**000000** 
-  2진수로 표기했을 때 1로 시작, 1과 1사이에는 0이 올 수 없다는 규칙을 가지고 있다. 

사설IP와 공인IP

공인IP안에서 사설IP를 사용함으로 해결..

사설IP를 사용하더라도 공인IP를 통해 통신을 하게 됩니다.

실제 인터넷 세상에서는 공인IP로만 통신 외부네트워크대역에서는 사설IP대역이 보이지 않습니다.

사설IP는 공인IP만 알고 있는 개념.